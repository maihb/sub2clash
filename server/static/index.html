<!DOCTYPE html>
<html lang="zh-CN" data-bs-theme="light">

<head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>sub2clash</title>
    <!-- Bootstrap CSS -->
    <link href="./static/bootstrap.min.css" rel="stylesheet" />
    <!-- Bootstrap JS -->
    <script src="./static/bootstrap.bundle.min.js"></script>
    <!-- Axios -->
    <script src="./static/axios.min.js"></script>
    <style>
        .container {
            max-width: 800px;
        }

        .btn-xs {
            padding: 2px 2px;
            /* è°ƒæ•´å†…è¾¹è·ä»¥å‡å°æŒ‰é’®å¤§å° */
            font-size: 10px;
            /* è®¾ç½®å­—ä½“å¤§å° */
            line-height: 1.2;
            /* è°ƒæ•´è¡Œé«˜ */
            border-radius: 3px;
            /* å¯é€‰çš„è¾¹æ¡†åŠå¾„è°ƒæ•´ */
            height: 25px;
            width: 25px;
        }

        /* ä¸»é¢˜åˆ‡æ¢æŒ‰é’®æ ·å¼ */
        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .theme-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>

<body>
    <!-- ä¸»é¢˜åˆ‡æ¢æŒ‰é’® -->
    <button class="theme-toggle btn btn-outline-secondary" onclick="toggleTheme()" title="åˆ‡æ¢æ·±è‰²/æµ…è‰²æ¨¡å¼">
        <span id="theme-icon">ğŸŒ™</span>
    </button>

    <div class="container mt-5">
        <div class="mb-4">
            <h2>sub2clash</h2>
            <span class="text-muted fst-italic">é€šç”¨è®¢é˜…é“¾æ¥è½¬ Clash(Meta) é…ç½®å·¥å…·
                <a href="https://github.com/maihb/sub2clash#clash-meta" target="_blank">ä½¿ç”¨æ–‡æ¡£</a></span><br /><span
                class="text-muted fst-italic">æ³¨æ„ï¼šæœ¬ç¨‹åºéçº¯å‰ç«¯ç¨‹åºï¼Œè¾“å…¥çš„è®¢é˜…å°†è¢«åç«¯ç¼“å­˜ï¼Œè¯·ç¡®ä¿æ‚¨ä¿¡ä»»å½“å‰ç«™ç‚¹</span>
        </div>

        <!-- Input URL -->
        <div class="form-group mb-5">
            <label for="apiLink">è§£æé“¾æ¥:</label>
            <div class="input-group mb-2">
                <input class="form-control" id="urlInput" type="text" placeholder="é€šè¿‡ç”Ÿæˆçš„é“¾æ¥é‡æ–°å¡«å†™ä¸‹æ–¹è®¾ç½®" />
                <button class="btn btn-primary" onclick="parseInputURL()" type="button">
                    è§£æ
                </button>
            </div>
        </div>
        <!-- API Endpoint -->
        <div class="form-group mb-3">
            <label for="endpoint">å®¢æˆ·ç«¯ç±»å‹:</label>
            <select class="form-control" id="endpoint" name="endpoint">
                <option value="clash">Clash</option>
                <option value="meta" selected>Clash.Meta</option>
            </select>
        </div>
        <!-- Template -->
        <div class="form-group mb-3">
            <label for="template">æ¨¡æ¿é“¾æ¥æˆ–åç§°:</label>
            <input class="form-control" id="template" name="template" placeholder="è¾“å…¥å¤–éƒ¨æ¨¡æ¿é“¾æ¥æˆ–å†…éƒ¨æ¨¡æ¿åç§°ï¼ˆå¯é€‰ï¼‰" type="text" />
        </div>
        <!-- Subscription Link -->
        <div class="form-group mb-3">
            <label for="sub">è®¢é˜…é“¾æ¥:</label>
            <textarea class="form-control" id="sub" name="sub" placeholder="æ¯è¡Œè¾“å…¥ä¸€ä¸ªè®¢é˜…é“¾æ¥" rows="5"></textarea>
        </div>
        <!-- Proxy Link -->
        <div class="form-group mb-3">
            <label for="proxy">èŠ‚ç‚¹åˆ†äº«é“¾æ¥:</label>
            <textarea class="form-control" id="proxy" name="proxy" placeholder="æ¯è¡Œè¾“å…¥ä¸€ä¸ªèŠ‚ç‚¹åˆ†äº«é“¾æ¥" rows="5"></textarea>
        </div>
        <!-- User Agent -->
        <div class="form-group mb-3">
            <label for="user-agent">UA æ ‡è¯†:</label>
            <textarea class="form-control" id="user-agent" name="user-agent"
                placeholder="ç”¨äºè·å–è®¢é˜…çš„ http è¯·æ±‚ä¸­çš„ User-Agent æ ‡è¯†ï¼ˆå¯é€‰ï¼‰" rows="3"></textarea>
        </div>
        <!-- Refresh -->
        <div class="form-check mb-3">
            <input class="form-check-input" id="refresh" name="refresh" type="checkbox" />
            <label class="form-check-label" for="refresh">å¼ºåˆ¶é‡æ–°è·å–è®¢é˜…</label>
        </div>
        <!-- Node List -->
        <div class="form-check mb-3">
            <input class="form-check-input" id="nodeList" name="nodeList" type="checkbox" />
            <label class="form-check-label" for="nodeList">è¾“å‡ºä¸º Node List</label>
        </div>
        <!-- Auto Test -->
        <div class="form-check mb-3">
            <input class="form-check-input" id="autoTest" name="autoTest" type="checkbox" />
            <label class="form-check-label" for="autoTest">å›½å®¶ç­–ç•¥ç»„è‡ªåŠ¨æµ‹é€Ÿ</label>
        </div>
        <!-- Lazy -->
        <div class="form-check mb-3">
            <input class="form-check-input" id="lazy" name="lazy" type="checkbox" />
            <label class="form-check-label" for="lazy">è‡ªåŠ¨æµ‹é€Ÿå¯ç”¨ lazy æ¨¡å¼</label>
        </div>
        <!-- IgnoreCountryGroup -->
        <div class="form-check mb-3">
            <input class="form-check-input" id="igcg" name="igcg" type="checkbox" />
            <label class="form-check-label" for="igcg">ä¸è¾“å‡ºå›½å®¶ç­–ç•¥ç»„</label>
        </div>
        <!-- Use UDP -->
        <div class="form-check mb-3">
            <input class="form-check-input" id="useUDP" name="useUDP" type="checkbox" />
            <label class="form-check-label" for="useUDP">ä½¿ç”¨ UDP</label>
        </div>
        <!-- Rule Provider -->
        <div class="form-group mb-3" id="ruleProviderGroup">
            <label>Rule Provider:</label>
            <button class="btn btn-primary mb-1 btn-xs" onclick="addRuleProvider()" type="button">
                +
            </button>
        </div>
        <!-- Rule -->
        <div class="form-group mb-3" id="ruleGroup">
            <label>è§„åˆ™:</label>
            <button class="btn btn-primary mb-1 btn-xs" onclick="addRule()" type="button">
                +
            </button>
        </div>
        <!-- Sort -->
        <div class="form-group mb-3">
            <label for="sort">å›½å®¶ç­–ç•¥ç»„æ’åºè§„åˆ™:</label>
            <select class="form-control" id="sort" name="sort">
                <option value="nameasc">åç§°ï¼ˆå‡åºï¼‰</option>
                <option value="namedesc">åç§°ï¼ˆé™åºï¼‰</option>
                <option value="sizeasc">èŠ‚ç‚¹æ•°é‡ï¼ˆå‡åºï¼‰</option>
                <option value="sizedesc">èŠ‚ç‚¹æ•°é‡ï¼ˆé™åºï¼‰</option>
            </select>
        </div>
        <!-- Remove -->
        <div class="form-group mb-3">
            <label for="remove">æ’é™¤èŠ‚ç‚¹:</label>
            <input class="form-control" type="text" name="remove" id="remove" placeholder="æ­£åˆ™è¡¨è¾¾å¼" />
        </div>
        <!-- Rename  -->
        <div class="form-group mb-3" id="replaceGroup">
            <label>èŠ‚ç‚¹åç§°æ›¿æ¢:</label>
            <button class="btn btn-primary mb-1 btn-xs" onclick="addReplace()" type="button">
                +
            </button>
        </div>

        <!-- Display the API Link -->
        <div class="form-group mb-5">
            <label for="apiLink">é…ç½®é“¾æ¥:</label>
            <div class="input-group mb-2">
                <input class="form-control" id="apiLink" type="text" placeholder="é“¾æ¥" readonly
                    style="cursor: not-allowed;" />
                <button class="btn btn-primary" onclick="copyToClipboard('apiLink',this)" type="button">
                    å¤åˆ¶é“¾æ¥
                </button>
            </div>
            <div class="input-group mb-2">
                <input class="form-control" id="customId" type="text" placeholder="çŸ­é“¾IDï¼ˆå¯é€‰ï¼‰" />
                <input class="form-control" id="password" type="text" placeholder="å¯†ç ï¼ˆå¯é€‰ï¼‰" />
                <button class="btn btn-primary" onclick="generateShortLink()" type="button">
                    ç”ŸæˆçŸ­é“¾
                </button>
                <button class="btn btn-primary" onclick="copyToClipboard('apiShortLink',this)" type="button">
                    å¤åˆ¶çŸ­é“¾
                </button>
            </div>
            <div class="input-group">
                <input class="form-control" id="apiShortLink" type="text" placeholder="çŸ­é“¾æ¥" readonly
                    style="cursor: not-allowed;" />
                <button class="btn btn-primary" onclick="updateShortLink()" type="button">
                    æ›´æ–°çŸ­é“¾
                </button>
            </div>
        </div>

        <!-- footer-->
        <footer>
            <p class="text-center">
                Powered by
                <a class="link-primary" href="https://github.com/maihb/sub2clash">sub2clash</a>
            </p>
            <p class="text-center">Version {{.Version}}</p>
        </footer>
    </div>
</body>
<script src="./static/index.js"></script>

</html>